# 短链接服务

## 方案设计

### 压缩算法
1.hash运算：第一种是对 URL 进行hash运算，在得到的hash值上做进一步运算，得到一个较短的hash值。

2.发号器：发号器自增，发号器发出的10进制号需要转换成62进制。

### 跳转
301：用户第一次访问某个短链接后，如果服务器返回301状态码，则这个用户在后续多次访问统一短链接，浏览器会直接请求跳转地址，而不是短链接地址，这样一来服务器端就无法收到用户的请求，但可以减小服务端压力。

302：如果服务器返回302状态码，且告知浏览器不缓存短链接请求，那么用户每次访问短链接，都会先去短链接服务端取回长链接地址，然后在跳转。302跳转会导致服务端压力增大，但服务端此时就可精确搜集用户的访问行为。基于用户的访问行为，可以做一些分析，得出一些有意思的结论。比如可以根据用户IP地址得出用户区域分布情况，根据User-Agent消息头分析出用户使用不同的操作系统以及浏览器比例等等。